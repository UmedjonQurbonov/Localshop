{% extends "base.html" %}
{% block title %}–ú–æ–∏ –∑–∞–∫–∞–∑—ã{% endblock title %}

{% block content %}
<h2>–ú–æ–∏ –∑–∞–∫–∞–∑—ã</h2>

{% if orders %}
    {% for order in orders %}
        <div style="border:1px solid #ddd; border-radius:10px; padding:15px; margin-bottom:20px;">
            <p><strong>–ó–∞–∫–∞–∑ ‚Ññ{{ order.id }}</strong> ‚Äî {{ order.created_at|date:"Y-m-d H:i" }}</p>
            <p>–°—Ç–∞—Ç—É—Å: 
                {% if order.status == 'new' %} üõí –í –∫–æ—Ä–∑–∏–Ω–µ
                {% elif order.status == 'confirmed' %} ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω
                {% elif order.status == 'shipped' %} üöö –û—Ç–ø—Ä–∞–≤–ª–µ–Ω
                {% elif order.status == 'delivered' %} üì¶ –î–æ—Å—Ç–∞–≤–ª–µ–Ω
                {% endif %}
            </p>
            
            <table style="width:100%; border-collapse: collapse; margin-top:10px;">
                <tr style="background:#222; color:white;">
                    <th>–¢–æ–≤–∞—Ä</th>
                    <th>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ</th>
                    <th>–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É</th>
                    <th>–ò—Ç–æ–≥–æ</th>
                </tr>
                {% for item in order.orderitem_set.all %}
                <tr style="border-bottom:1px solid #ddd;">
                    <td>{{ item.product.name }}</td>
                    <td>{{ item.quantity }}</td>
                    <td>{{ item.product.price }}</td>
                    <td>{{ item.total_price }}</td>
                </tr>
                {% endfor %}
            </table>

            <p style="font-weight:bold; margin-top:10px;">
                –û–±—â–∞—è —Å—É–º–º–∞: {{ order.total_price }} —Å–æ–º–æ–Ω–∏
            </p>
        </div>
    {% endfor %}
{% else %}
<p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤.</p>
{% endif %}

{% endblock content %}
